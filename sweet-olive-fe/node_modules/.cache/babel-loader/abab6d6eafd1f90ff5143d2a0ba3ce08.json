{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/src/Comments.js\";\nimport React, { useState, useEffect } from \"react\";\nimport './Comments.css';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { v4 as uuid } from 'uuid';\nimport CreateComment from \"./CreateComment\";\nimport CommentModal from './CommentModal';\n\nfunction Comments(_ref) {\n  var _this = this;\n\n  var post = _ref.post;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var history = useHistory();\n  useEffect( /*#__PURE__*/function () {\n    var _getTitle = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(\"http://sweetolivefarms.com/wp-json/wp/v2/comments?post=\".concat(post));\n\n            case 2:\n              res = _context.sent;\n              data = res.data;\n              setData(data);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function getTitle() {\n      return _getTitle.apply(this, arguments);\n    }\n\n    return getTitle;\n  }(), []);\n\n  function createComment(_x) {\n    return _createComment.apply(this, arguments);\n  } // Get the modal\n\n\n  function _createComment() {\n    _createComment = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(formData) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(formData);\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _createComment.apply(this, arguments);\n  }\n\n  var modal = document.getElementById(\"myModal\"); // Get the <span> element that closes the modal\n\n  var span = document.getElementsByClassName(\"close\")[0];\n\n  function handleSubmit() {\n    //    return <CreateComment post={post} createComment={createComment} />\n    modal.style.display = \"block\";\n  } // When the user clicks on <span> (x), close the modal\n\n\n  span.onclick = function () {\n    modal.style.display = \"none\";\n  }; // When the user clicks anywhere outside of the modal, close it\n\n\n  window.onclick = function (event) {\n    if (event.target == modal) {\n      modal.style.display = \"none\";\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Comments:\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Leave a Comment\"), data ? data.map(function (result) {\n    return result.status === \"approved\" ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"comments-comment\",\n      key: uuid(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: result.author_avatar_urls[24],\n      alt: \"user avatar\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 14\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"comments-author\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 14\n      }\n    }, \" \", result.author_name, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"comments-content\",\n      dangerouslySetInnerHTML: {\n        __html: result.content.rendered\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 14\n      }\n    })) : \"\";\n  }) : \"\", /*#__PURE__*/React.createElement(CommentModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default Comments;","map":{"version":3,"sources":["/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/src/Comments.js"],"names":["React","useState","useEffect","axios","useHistory","v4","uuid","CreateComment","CommentModal","Comments","post","data","setData","history","get","res","getTitle","createComment","formData","console","log","modal","document","getElementById","span","getElementsByClassName","handleSubmit","style","display","onclick","window","event","target","map","result","status","author_avatar_urls","author_name","__html","content","rendered"],"mappings":"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","sourcesContent":["import React, {useState, useEffect}from \"react\";\nimport './Comments.css';\nimport axios from 'axios';\nimport {useHistory} from 'react-router-dom';\nimport {v4 as uuid} from 'uuid';\nimport CreateComment from \"./CreateComment\";\nimport CommentModal from './CommentModal'\n\n\n\nfunction Comments({post}){\n    const [data, setData] = useState(\"\");\n\n    const history= useHistory();\n    \n    useEffect(\n    async function getTitle(){\n        let res = await axios.get(`http://sweetolivefarms.com/wp-json/wp/v2/comments?post=${post}`)\n        let data = res.data\n        setData(data);\n    },[])\n    \n    async function createComment(formData){\n        console.log(formData);\n\n    }\n\n        // Get the modal\nvar modal = document.getElementById(\"myModal\");\n\n// Get the <span> element that closes the modal\nvar span = document.getElementsByClassName(\"close\")[0];\n\n    function handleSubmit(){\n    //    return <CreateComment post={post} createComment={createComment} />\n    modal.style.display = \"block\";\n    }\n\n    // When the user clicks on <span> (x), close the modal\nspan.onclick = function() {\n    modal.style.display = \"none\";\n  }\n  \n  // When the user clicks anywhere outside of the modal, close it\n  window.onclick = function(event) {\n    if (event.target == modal) {\n      modal.style.display = \"none\";\n    }\n  }\n    return(\n        <>\n        <h2>Comments:</h2>\n        <button onClick={handleSubmit}>Leave a Comment</button>\n        {data ? data.map(result => (\n            (result.status === \"approved\") ?\n        <div className='comments-comment' key={uuid()}>\n             <img src={result.author_avatar_urls[24]} alt=\"user avatar\" />\n             <span className='comments-author'> {result.author_name} </span>\n             <div className='comments-content'dangerouslySetInnerHTML={{__html: result.content.rendered}}></div>\n         </div>\n         : \"\"\n        )\n        ): \"\"}\n        <CommentModal />\n        </>\n    );\n}\n\n\nexport default Comments;"]},"metadata":{},"sourceType":"module"}