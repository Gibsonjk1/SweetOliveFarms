{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/src/CommentModal.js\";\nimport axios from \"axios\";\nimport React, { useState, useContext } from \"react\";\nimport './CommentModal.css';\nimport AppContext from './Context';\nimport SweetOliveApi from './api';\n\nfunction CommentModal(_ref) {\n  var post = _ref.post;\n\n  var _useContext = useContext(AppContext),\n      BASE_URL = _useContext.BASE_URL;\n\n  var _useState = useState({\n    \"name\": '',\n    'email': '',\n    'content': '',\n    \"post\": post\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      formData = _useState2[0],\n      setFormData = _useState2[1];\n\n  function close() {\n    var modal = document.getElementById(\"myModal\");\n    modal.style.display = \"none\";\n  }\n\n  function handleChange(e) {\n    setFormData(_objectSpread({}, formData, _defineProperty({}, e.target.name, e.target.value)));\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    document.getElementById('CommentModalForm').reset();\n\n    function create() {\n      return _create.apply(this, arguments);\n    }\n\n    function _create() {\n      _create = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return SweetOliveApi.analyzeComment(formData.content);\n\n              case 2:\n                res = _context.sent;\n                console.log(\"Submit res: \", res); // let res = await axios.post(`${BASE_URL}/comments?author_name=${formData.name}&author_email=${formData.email}&content=${formData.content}&post=${formData.post}`)\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _create.apply(this, arguments);\n    }\n\n    create();\n    close();\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"myModal\",\n    className: \"modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: close,\n    className: \"close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"form\", {\n    id: \"commentModalForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"name\",\n    id: \"name\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 119\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 122\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"Comment:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    name: \"content\",\n    id: \"content\",\n    rows: \"10\",\n    columns: \"30\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 142\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    value: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Submit Comment\")))));\n}\n\nexport default CommentModal;","map":{"version":3,"sources":["/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/src/CommentModal.js"],"names":["axios","React","useState","useContext","AppContext","SweetOliveApi","CommentModal","post","BASE_URL","formData","setFormData","close","modal","document","getElementById","style","display","handleChange","e","target","name","value","handleSubmit","preventDefault","reset","create","analyzeComment","content","res","console","log"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, {useState, useContext} from \"react\";\nimport './CommentModal.css';\nimport AppContext from './Context'\nimport SweetOliveApi from './api'\n\n\n\n\nfunction CommentModal({post}){\n\n    const {BASE_URL} = useContext(AppContext)\n\n    const [formData, setFormData] = useState({\n        \"name\": '',\n        'email': '',\n        'content': '',\n        \"post\": post,\n\n    });\n\n    \n    function close(){\n        let modal = document.getElementById(\"myModal\");\n        modal.style.display = \"none\";\n    }\n\n    function handleChange(e){\n        setFormData({\n            ...formData, [e.target.name]: e.target.value\n        })\n    }\n\n    function handleSubmit(e){\n        e.preventDefault();\n        document.getElementById('CommentModalForm').reset();\n\n        async function create(){\n            let res = await SweetOliveApi.analyzeComment(formData.content)\n            \n            console.log(\"Submit res: \", res)\n            // let res = await axios.post(`${BASE_URL}/comments?author_name=${formData.name}&author_email=${formData.email}&content=${formData.content}&post=${formData.post}`)\n        }\n        create();\n        close();\n    }\n    return(\n        <>\n       <div id=\"myModal\" className=\"modal\">\n\n            <div className=\"modal-content\">\n            <span onClick={close} className=\"close\">&times;</span>\n            <form id=\"commentModalForm\">\n                <div className=\"form-group\">\n                <label htmlFor=\"name\">Name:</label>\n                    <input className=\"form-control\" type=\"text\" name=\"name\" id=\"name\" onChange={handleChange}></input><br />\n                </div>\n                <div className=\"form-group\">\n                <label htmlFor=\"email\">Email:</label>\n                    <input className=\"form-control\" type=\"email\" name=\"email\" id=\"email\" onChange={handleChange}></input><br />\n                </div>\n                <div className=\"form-group\">\n                <label htmlFor=\"content\">Comment:</label>\n                    <textarea className=\"form-control\" name=\"content\" id=\"content\" rows=\"10\" columns=\"30\" onChange={handleChange}></textarea><br />\n                    <input type=\"hidden\" value={post}></input>\n                </div>\n                <button className=\"btn btn-success\" onClick={handleSubmit}>Submit Comment</button>\n            </form>\n            </div>\n\n        </div>\n       \n        </>\n    );\n}\n\n\nexport default CommentModal;"]},"metadata":{},"sourceType":"module"}