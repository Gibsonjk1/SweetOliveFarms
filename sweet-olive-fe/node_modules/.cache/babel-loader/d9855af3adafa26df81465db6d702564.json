{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/src/CommentModal.js\";\nimport axios from \"axios\";\nimport React, { useState, useContext } from \"react\";\nimport './CommentModal.css';\nimport AppContext from './Context';\nimport SweetOliveApi from './api';\n\nfunction CommentModal(_ref) {\n  var post = _ref.post;\n\n  var _useContext = useContext(AppContext),\n      BASE_URL = _useContext.BASE_URL;\n\n  var _useState = useState({\n    \"name\": '',\n    'email': '',\n    'content': '',\n    \"post\": post\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      formData = _useState2[0],\n      setFormData = _useState2[1];\n\n  function close() {\n    var modal = document.getElementById(\"myModal\");\n    modal.style.display = \"none\";\n  }\n\n  function handleChange(e) {\n    setFormData(_objectSpread({}, formData, _defineProperty({}, e.target.name, e.target.value)));\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    document.getElementById('CommentModalForm').reset();\n\n    function create() {\n      return _create.apply(this, arguments);\n    }\n\n    function _create() {\n      _create = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var toxicity;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return SweetOliveApi.analyzeComment(formData.content);\n\n              case 2:\n                toxicity = _context.sent;\n                return _context.abrupt(\"return\", toxicity);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _create.apply(this, arguments);\n    }\n\n    create();\n    close();\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"myModal\",\n    className: \"modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: close,\n    className: \"close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"form\", {\n    id: \"CommentModalForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \"Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    id: \"name\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 94\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 97\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Comment:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"content\",\n    id: \"content\",\n    rows: \"10\",\n    columns: \"30\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 117\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    value: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"Submit Comment\")))));\n}\n\nexport default CommentModal;","map":{"version":3,"sources":["/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/src/CommentModal.js"],"names":["axios","React","useState","useContext","AppContext","SweetOliveApi","CommentModal","post","BASE_URL","formData","setFormData","close","modal","document","getElementById","style","display","handleChange","e","target","name","value","handleSubmit","preventDefault","reset","create","analyzeComment","content","toxicity"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, {useState, useContext} from \"react\";\nimport './CommentModal.css';\nimport AppContext from './Context'\nimport SweetOliveApi from './api'\n\n\n\n\nfunction CommentModal({post}){\n\n    const {BASE_URL} = useContext(AppContext)\n\n    const [formData, setFormData] = useState({\n        \"name\": '',\n        'email': '',\n        'content': '',\n        \"post\": post,\n\n    });\n\n    \n    function close(){\n        let modal = document.getElementById(\"myModal\");\n        modal.style.display = \"none\";\n    }\n\n    function handleChange(e){\n        setFormData({\n            ...formData, [e.target.name]: e.target.value\n        })\n    }\n\n    function handleSubmit(e){\n        e.preventDefault();\n        document.getElementById('CommentModalForm').reset();\n        async function create(){\n            let toxicity = await SweetOliveApi.analyzeComment(formData.content)\n            // let res = await axios.post(`${BASE_URL}/comments?author_name=${formData.name}&author_email=${formData.email}&content=${formData.content}&post=${formData.post}`)\n            return toxicity;\n        }\n        create();\n        close();\n    }\n    return(\n        <>\n       <div id=\"myModal\" className=\"modal\">\n\n            <div className=\"modal-content\">\n            <span onClick={close} className=\"close\">&times;</span>\n            <form id=\"CommentModalForm\">\n                <label htmlFor=\"name\">Name:</label>\n                    <input type=\"text\" name=\"name\" id=\"name\" onChange={handleChange}></input><br />\n                <label htmlFor=\"email\">Email:</label>\n                    <input type=\"email\" name=\"email\" id=\"email\" onChange={handleChange}></input><br />\n                <label htmlFor=\"content\">Comment:</label>\n                    <textarea name=\"content\" id=\"content\" rows=\"10\" columns=\"30\" onChange={handleChange}></textarea><br />\n                    <input type=\"hidden\" value={post}></input>\n                <button onClick={handleSubmit}>Submit Comment</button>\n            </form>\n            </div>\n\n        </div>\n       \n        </>\n    );\n}\n\n\nexport default CommentModal;"]},"metadata":{},"sourceType":"module"}