{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport axios from \"axios\";\nvar BASE_URL = process.env.REACT_APP_BASE_URL || \"http://localhost:3001\"; // API class\n\nvar SweetOliveApi = /*#__PURE__*/function () {\n  function SweetOliveApi() {\n    _classCallCheck(this, SweetOliveApi);\n  }\n\n  _createClass(SweetOliveApi, null, [{\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(endpoint) {\n        var data,\n            method,\n            url,\n            headers,\n            params,\n            message,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n                method = _args.length > 2 && _args[2] !== undefined ? _args[2] : \"get\";\n                console.debug(\"API Call:\", endpoint, data, method);\n                url = \"\".concat(BASE_URL, \"/\").concat(endpoint);\n                headers = {};\n                params = method === \"get\" ? data : {};\n                _context.prev = 6;\n                _context.next = 9;\n                return axios({\n                  url: url,\n                  method: method,\n                  data: data,\n                  params: params,\n                  headers: headers\n                });\n\n              case 9:\n                return _context.abrupt(\"return\", _context.sent.data);\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](6);\n                console.error(\"API Error:\", _context.t0.response);\n                message = _context.t0.response.data.error.message;\n                throw Array.isArray(message) ? message : [message];\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[6, 12]]);\n      }));\n\n      function request(_x) {\n        return _request.apply(this, arguments);\n      }\n\n      return request;\n    }() // Individual API routes\n\n  }, {\n    key: \"getPost\",\n    value: function () {\n      var _getPost = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var handle,\n            res,\n            _args2 = arguments;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                handle = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : \"\";\n                _context2.next = 3;\n                return this.request(\"posts/\".concat(handle));\n\n              case 3:\n                res = _context2.sent;\n                return _context2.abrupt(\"return\", res);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getPost() {\n        return _getPost.apply(this, arguments);\n      }\n\n      return getPost;\n    }()\n  }, {\n    key: \"analyzeComment\",\n    value: function () {\n      var _analyzeComment = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(comment) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                console.log('analyze comment');\n                _context3.next = 3;\n                return axios.get(\"\".concat(BASE_URL, \"/commentanalyzer\"), {\n                  comment: comment\n                });\n\n              case 3:\n                res = _context3.sent;\n                console.log(res);\n                return _context3.abrupt(\"return\", res);\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function analyzeComment(_x2) {\n        return _analyzeComment.apply(this, arguments);\n      }\n\n      return analyzeComment;\n    }()\n  }]);\n\n  return SweetOliveApi;\n}();\n\nexport default SweetOliveApi;","map":{"version":3,"sources":["/Users/Jason/Documents/Websites/Sweet-Olive/sweet-olive-farms-main/sweet-olive-fe/src/api.js"],"names":["axios","BASE_URL","process","env","REACT_APP_BASE_URL","SweetOliveApi","endpoint","data","method","console","debug","url","headers","params","error","response","message","Array","isArray","handle","request","res","comment","log","get"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,kBAAZ,IAAkC,uBAAnD,C,CAEA;;IAEMC,a;;;;;;;;+FAEiBC,Q;;;;;;;;;;;;AAAUC,gBAAAA,I,2DAAO,E;AAAIC,gBAAAA,M,2DAAS,K;AACjDC,gBAAAA,OAAO,CAACC,KAAR,CAAc,WAAd,EAA2BJ,QAA3B,EAAqCC,IAArC,EAA2CC,MAA3C;AAGMG,gBAAAA,G,aAASV,Q,cAAYK,Q;AACrBM,gBAAAA,O,GAAU,E;AACVC,gBAAAA,M,GAAUL,MAAM,KAAK,KAAZ,GACTD,IADS,GAET,E;;;uBAGUP,KAAK,CAAC;AAAEW,kBAAAA,GAAG,EAAHA,GAAF;AAAOH,kBAAAA,MAAM,EAANA,MAAP;AAAeD,kBAAAA,IAAI,EAAJA,IAAf;AAAqBM,kBAAAA,MAAM,EAANA,MAArB;AAA6BD,kBAAAA,OAAO,EAAPA;AAA7B,iBAAD,C;;;+DAA0CL,I;;;;;AAE7DE,gBAAAA,OAAO,CAACK,KAAR,CAAc,YAAd,EAA4B,YAAIC,QAAhC;AACIC,gBAAAA,O,GAAU,YAAID,QAAJ,CAAaR,IAAb,CAAkBO,KAAlB,CAAwBE,O;sBAChCC,KAAK,CAACC,OAAN,CAAcF,OAAd,IAAyBA,OAAzB,GAAmC,CAACA,OAAD,C;;;;;;;;;;;;;;;QAI7C;;;;;;;;;;;;;AAGqBG,gBAAAA,M,8DAAO,E;;uBACV,KAAKC,OAAL,iBAAsBD,MAAtB,E;;;AAAZE,gBAAAA,G;kDACGA,G;;;;;;;;;;;;;;;;;;;uGAGmBC,O;;;;;;AAC1Bb,gBAAAA,OAAO,CAACc,GAAR,CAAY,iBAAZ;;uBACgBvB,KAAK,CAACwB,GAAN,WAAavB,QAAb,uBAAyC;AAACqB,kBAAAA,OAAO,EAAPA;AAAD,iBAAzC,C;;;AAAZD,gBAAAA,G;AACJZ,gBAAAA,OAAO,CAACc,GAAR,CAAYF,GAAZ;kDACOA,G;;;;;;;;;;;;;;;;;;;;;AAMX,eAAehB,aAAf","sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"http://localhost:3001\";\n\n// API class\n\nclass SweetOliveApi {\n\n  static async request(endpoint, data = {}, method = \"get\") {\n    console.debug(\"API Call:\", endpoint, data, method);\n\n   \n    const url = `${BASE_URL}/${endpoint}`;\n    const headers = {}\n    const params = (method === \"get\")\n        ? data\n        : {};\n\n    try {\n      return (await axios({ url, method, data, params, headers })).data;\n    } catch (err) {\n      console.error(\"API Error:\", err.response);\n      let message = err.response.data.error.message;\n      throw Array.isArray(message) ? message : [message];\n    }\n  }\n\n  // Individual API routes\n\n\n  static async getPost(handle=\"\") {\n    let res = await this.request(`posts/${handle}`);\n    return res;\n  }\n\n  static async analyzeComment(comment) {\n    console.log('analyze comment')\n    let res = await axios.get(`${BASE_URL}/commentanalyzer`, {comment})\n    console.log(res)\n    return res;\n  }\n\n}\n\n\nexport default SweetOliveApi;"]},"metadata":{},"sourceType":"module"}